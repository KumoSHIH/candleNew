(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2371e0"],{fa6e:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"container pt-md-5"},[s("div",{staticClass:"row justify-content-center no-gutters"},[t._m(0),s("div",{staticClass:"col-md-7 mt-5"},[s("table",{staticClass:"table"},[t._m(1),s("tbody",t._l(t.order.products,function(a){return s("tr",{key:a.id},[s("td",[t._v(t._s(a.product.title))]),s("td",[t._v(t._s(a.qty)+t._s(a.product.unit))]),s("td",{staticClass:"text-right"},[t._v("NT "+t._s(t._f("currency")(a.product.price)))])])}),0),s("tfoot",[s("th",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),s("td",{staticClass:"text-right"},[t._v("NT "+t._s(t._f("currency")(t.order.total)))])])])]),s("div",{staticClass:"col-md-7 mt-5"},[s("h2",{staticClass:"text-center text-main"},[t._v("付款")]),s("form",{staticClass:"mt-3"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"card"}},[t._v("信用卡卡號")]),s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("card")},attrs:{name:"card",type:"text",id:"card",placeholder:"1234-5678-9012-1234"}}),t.errors.has("card")?s("span",{staticClass:"text-danger"},[t._v("請輸入正確卡號")]):t._e()]),s("div",{staticClass:"form-row"},[s("div",{staticClass:"col-6"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"firstName"}},[t._v("持卡人姓氏")]),s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control ",class:{"is-invalid":t.errors.has("firstName")},attrs:{name:"firstName",type:"text",id:"firstName",placeholder:"姓"}}),t.errors.has("firstName")?s("span",{staticClass:"text-danger mr-2"},[t._v("請輸入姓")]):t._e()])]),s("div",{staticClass:"col-6 "},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"firstName"}},[t._v("持卡人名字")]),s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control ",class:{"is-invalid":t.errors.has("lastName")},attrs:{name:"lastName",type:"text",placeholder:"名"}}),t.errors.has("lastName")?s("span",{staticClass:"text-danger "},[t._v("請輸入名字")]):t._e()])])]),s("div",{staticClass:"form-row"},[s("div",{staticClass:"col-6"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"isAvailable"}},[t._v("有效期限")]),s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalide":t.errors.has("isAvailible")},attrs:{name:"isAvailable",type:"month",id:"isAvailable",placeholder:"年/月"}}),t.errors.has("isAvailable")?s("span",{staticClass:"text-danger"},[t._v("請輸入有效年/月")]):t._e()])]),s("div",{staticClass:"col-6"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"last3"}},[t._v("背面末三碼")]),s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("last3")},attrs:{name:"last3",type:"text",id:"last3",placeholder:"123"}}),t.errors.has("last3")?s("span",{staticClass:"text-danger"},[t._v("請輸入卡片背面末三碼")]):t._e()])])])])]),s("div",{staticClass:"col-md-7 mt-4"},[s("h2",{staticClass:"text-center text-main"},[t._v("收件人資訊")]),s("table",{staticClass:"table mt-3"},[s("tr",[s("th",[t._v("Email")]),s("td",[t._v(t._s(t.order.user.email))])]),s("tr",[s("th",[t._v("姓名")]),s("td",[t._v(t._s(t.order.user.name))])]),s("tr",[s("th",[t._v("收件人電話")]),s("td",[t._v(t._s(t.order.user.tel))])]),s("tr",[s("th",[t._v("收件人地址")]),s("td",[t._v(t._s(t.order.user.address))])]),s("tr",[s("th",[t._v("付款狀態")]),t.order.is_paid?t._e():s("td",[t._v("未付款")]),t.order.is_paid?s("td",{staticClass:"text-success"},[t._v("付款完成")]):t._e()])])]),s("button",{staticClass:"col-md-7 btn btn-main my-3 mb-5",on:{click:t.payOrder}},[t._v("確認付款")])])])])},r=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-md-7 mt-5"},[s("h2",{staticClass:"text-center text-main mt-5 pt-5 pt-md-0"},[s("strong",[t._v("訂單確認")])]),s("div",{staticClass:"step-wrap d-flex justify-content-between mt-4"},[s("div",{staticClass:"step1"},[s("i",{staticClass:"fas fa-check success"})]),s("div",{staticClass:"step1"}),s("div",{staticClass:"point"})])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("tr",[s("th",[t._v("品項")]),s("th",[t._v("數量")]),s("th",{staticClass:"text-right"},[t._v("單價")])])])}],i={data:function(){return{order:{user:{}},orderID:""}},methods:{getOrders:function(t){var a=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("candle","/order/").concat(a.orderID);a.$store.dispatch("updateLoading",!0,{root:!0}),a.$http.get(s).then(function(t){a.order=t.data.order,a.$store.dispatch("updateLoading",!1,{root:!0})})},payOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("candle","/pay/").concat(t.orderID);t.$store.dispatch("updateLoading",!0,{root:!0}),t.$validator.validate().then(function(s){s?t.$http.post(a).then(function(a){a.data.success&&(t.getOrders(),t.$router.push("/cart_fin"),t.$store.dispatch("updateLoading",!1,{root:!0}))}):(t.$store.dispatch("updateLoading",!1,{root:!0}),alert("欄位不完整"))})}},created:function(){this.orderID=this.$route.params.orderID,this.getOrders()}},o=i,l=s("2877"),c=Object(l["a"])(o,e,r,!1,null,null,null);a["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d2371e0.ec505a71.js.map